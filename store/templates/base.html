{# --"--\Catalog\store\templates\base.html"-- #}
<!DOCTYPE html>
{% load i18n static compress %}
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frixit Fresh - {% trans "Fresh Products" %}</title>
    <meta name="description"
          content="{% trans 'Fresh organic products delivered to your door' %}">
    <link rel="stylesheet"
          href="{% static 'packets/fontawesome/css/all.min.css' %}">
    <link rel="stylesheet"
          href="{% static 'packets/bootstrap-icons/font/bootstrap-icons.css' %}">
    {% block css %}
      {% compress css %}
        <link rel="stylesheet"
              href="{% static 'scss/main.scss' %}"
              type="text/x-scss">
      {% endcompress %}
    {% endblock css %}
    {% get_available_languages as LANGUAGES %}
    {% get_language_info_list for LANGUAGES as languages %}
    {% for language in languages %}
      {% if language.code != LANGUAGE_CODE %}
        <link rel="alternate"
              hreflang="{{ language.code }}"
              href="/{{ language.code }}{{ request.path|slice:'3:' }}">
      {% endif %}
    {% endfor %}
  </head>
  <body class="lang-{{ LANGUAGE_CODE }}">
    {% include 'include/header.html' %}
    <nav aria-label="{% trans 'Main navigation' %}">
      {% include 'include/navigation.html' %}
    </nav>
    <section role="main">
      <main class="container">
        {# --- Django Messages Display --- #}
        {% if messages %}
          <div class="messages-container">
            {% for message in messages %}
              <div class="message message-{{ message.tags }}" role="alert">
                {{ message }}
                <button type="button"
                        class="message-close"
                        aria-label="{% trans 'Close' %}"
                        onclick="this.parentElement.style.display='none';">Ã—</button>
              </div>
            {% endfor %}
          </div>
        {% endif %}
        {# --- End Django Messages Display --- #}
        {% block content %}
          {% block is_error_page %}
          {% endblock is_error_page %}
          <div class="error-container">
            <h2 class="error-title">{% trans "Something went wrong" %}</h2>
            <p class="error-message">
              {% trans "It seems we couldn't load this page. Please try again later or contact our support team." %}
            </p>
            <a href="mailto:support@frixitfresh.com?subject=Page%20Load%20Error&body=Error%20on%20page:%20{{ request.path|urlencode }}"
               class="error-button"
               id="error-contact-button">{% trans "Contact Support" %}</a>
          </div>
        {% endblock content %}
      </main>
    </section>
    <aside aria-label="{% trans 'Additional information' %}">
      {% include 'include/aside.html' %}
    </aside>
    {% include 'include/footer.html' %}
    {% if debug %}
      {% include 'modules/show-grid.html' %}
    {% endif %}
    <script src="{% url 'jsi18n' %}"></script>
    <script type="text/javascript">window.DJANGO_LANGUAGE_CODE = "{{ LANGUAGE_CODE }}";</script>
    {% block js %}
      <script type="module" src="{% static 'js/main.js' %}"></script>
    {% endblock js %}
    {% block extra_js %}
    {% endblock extra_js %}
  </body>
</html>
