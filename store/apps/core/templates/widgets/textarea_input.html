{# --"--\Catalog\store\apps\core\templates\widgets\textarea_input.html"-- #}
{% comment %}
Шаблон для виджета TextareaInput.
Ожидает контекст, предоставляемый виджетом apps.core.widgets.TextareaInput.
{% endcomment %}
<div class="form-field">
  {# Метка поля #}
  {% if widget.label %}
    <label for="{{ widget.attrs.id }}">
      {{ widget.label }}
      {% if widget.is_required %}<span class="required-indicator">*</span>{% endif %}
      {% if not widget.is_required %}<span class="optional-text">(необязательно)</span>{% endif %}
    </label>
  {% endif %}
  {# Обертка для textarea и иконки #}
  <div class="input-wrapper">
    {# Keep wrapper for icon positioning and border styling #}
    {# Основное поле ввода #}
    <textarea name="{{ widget.name }}"
              {% if widget.attrs.id %}id="{{ widget.attrs.id }}"{% endif %}
              class="auth-textarea" {# Use specific class for textarea styling #}
              {% if widget.is_required %}required{% endif %}
              {# Render other attributes like placeholder, rows, cols etc. #}
              {% for attr_name, attr_value in widget.attrs.items %}
                {% if attr_name != "id" and attr_name != "class" %}{{ attr_name }}{% if attr_value is not True %}="{{ attr_value }}"{% endif %}{% endif %}
              {% endfor %}
              {# CORRECTED: Use default filter to handle None value correctly #}
              >{{ widget.value|default:'' }}</textarea>
    {# Иконка #}
    {% if widget.icon_class %}<i class="fas {{ widget.icon_class }} input-icon"></i>{% endif %}
      {# Feedback icons (like check/cross) are typically not placed inside the textarea wrapper #}
    </div>
    {# Блок для отображения сообщений об ошибках #}
    <div class="form-error"
         {% if widget.attrs.id %}id="{{ widget.attrs.id }}-error"{% endif %}>
      {% comment %} Сообщение об ошибке будет управляться JS {% endcomment %}
    </div>
  </div>
